<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <meta charset="UTF-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <head>
        <link rel="shortcut icon" type="image/svg" href="/static/convey.svg">
        <link rel="preload" href="/static/NotoSerif-Regular.ttf" as="font" type="font/ttf" crossorigin>
        <link rel="preload" href="/static/NotoSerif-ExtraBold.ttf" as="font" type="font/ttf" crossorigin>
        <link rel="stylesheet" href="/static/styles.css"/>
        <title>Convey</title>
    </head>

    <body>
        <div class="content">
            {{template "header" .}}

            <h1 class="center">{{.Topic}}</h1>

            {{template "message" .}}

            {{template "gift" .Gifts}}

            {{if gt (len .Replies) 0 -}}
            <p>
                <small>
                    Sort:
                    {{if eq .Sort "cost"}}Cost{{else}}<a href="/conversation?id={{.ConversationID}}&sort=cost">Cost</a>{{end}}
                    {{if eq .Sort "yield"}}Yield{{else}}<a href="/conversation?id={{.ConversationID}}&sort=yield">Yield</a>{{end}}
                    {{if eq .Sort "time"}}Time{{else}}<a href="/conversation?id={{.ConversationID}}&sort=time">Time</a>{{end}}
                </small>
            </p>
            {{template "reply" .Replies}}
            {{- end}}

            {{template "footer"}}
        </div>
    </body>
</html>
